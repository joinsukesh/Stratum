@using Stratum.Feature.Accounts
@using Stratum.Feature.Accounts.Models
@using Sitecore.Mvc
@using Stratum.Foundation.Common
@using Stratum.Foundation.Common.Utilities

@using System.Web.Mvc
@model SignUp
@{
    Layout = null;
    bool isExperienceEditor = SitecoreUtility.IsExperienceEditorMode();
}

@if (Model != null)
{
    <section id="@Model.SectionId">
        <div class="container">
            @if ((!MvcHtmlString.IsNullOrEmpty(Model.Title)) || (!MvcHtmlString.IsNullOrEmpty(Model.Description)) || isExperienceEditor)
            {
                <div class="section-title" data-aos="fade-up">
                    @if ((!MvcHtmlString.IsNullOrEmpty(Model.Title)) || isExperienceEditor)
                    {
                        @Model.Title
                    }
                    @if ((!MvcHtmlString.IsNullOrEmpty(Model.Description)) || isExperienceEditor)
                    {
                        @Model.Description
                    }
                </div>
            }
            <div class="row justify-content-center" data-aos="fade-up" style="margin-top:-45px;">
                <div class="col-lg-10">
                    @using (Ajax.BeginForm("RegisterUser", "Accounts",
                    new AjaxOptions
                    {
                        HttpMethod = "Post",
                        OnBegin = "OnBegin_SU",
                        OnSuccess = "OnSuccess_SU",
                        OnFailure = "OnFailure_SU"
                    }, new { @class = "php-email-form", id = "formSignUp" }))
                    {
                        @Html.AntiForgeryToken()

                        @Html.HiddenFor(x => x.ConfirmSignUpPageUrl, new { id = "ConfirmSignUpPageUrl" })
                        <div class="row">
                            <div class="col-md-6 form-group">
                                @Html.TextBoxFor(x => x.FirstName, new { @class = "form-control", type = "text", maxlength = "50", autocomplete = "off", id = "FirstName", placeholder = CommonDictionaryValues.Labels.FirstName })
                                @Html.ValidationMessageFor(x => x.FirstName, null, "span")
                            </div>
                            <div class="col-md-6 form-group mt-3 mt-md-0">
                                @Html.TextBoxFor(x => x.LastName, new { @class = "form-control", type = "text", maxlength = "50", autocomplete = "off", id = "LastName", placeholder = CommonDictionaryValues.Labels.LastName })
                                @Html.ValidationMessageFor(x => x.LastName, null, "span")
                            </div>
                        </div>
                        <div class="form-group mt-3">
                            @Html.TextBoxFor(x => x.Email, new { @class = "form-control", type = "email", maxlength = "50", autocomplete = "off", id = "Email", placeholder = CommonDictionaryValues.Labels.Email })
                            @Html.ValidationMessageFor(x => x.Email, null, "span")
                        </div>
                        <div class="form-group mt-3">
                            @Html.TextBoxFor(x => x.Password, new { @class = "form-control", type = "password", autocomplete = "off", id = "Password", placeholder = DictionaryValues.Labels.Password })
                            @Html.ValidationMessageFor(x => x.Password, null, "span")
                        </div>
                        <div class="form-group mt-3">
                            @Html.TextBoxFor(x => x.ConfirmPassword, new { @class = "form-control", type = "password", autocomplete = "off", id = "ConfirmPassword", placeholder = DictionaryValues.Labels.ConfirmPassword })
                            @Html.ValidationMessageFor(x => x.ConfirmPassword, null, "span")
                        </div>
                        <div class="text-center"><button id="btnSUSubmit" type="submit">@CommonDictionaryValues.Labels.Submit</button></div>
                        <div class="form-group mt-3">
                            <div id="divSignUpSubmitStatus">

                            </div>
                        </div>
                    }
                </div>                
            </div>
        </div>
    </section>
}
else
{
    <span></span>
}
