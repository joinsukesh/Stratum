@using Stratum.Feature.Accounts
@using Stratum.Feature.Accounts.Models
@using Sitecore.Mvc
@using Stratum.Foundation.Common
@using Stratum.Foundation.Common.Utilities
@using System.Web.Mvc
@model SignIn
@{
    Layout = null;
    bool isExperienceEditor = SitecoreUtility.IsExperienceEditorMode();
}

@if (Model != null)
{
    <section id="@Model.SectionId" class="mt-20 contact @Model.SectionCssClass">
        <div class="container">
            @if ((!MvcHtmlString.IsNullOrEmpty(Model.Title)) || (!MvcHtmlString.IsNullOrEmpty(Model.Description)) || isExperienceEditor)
            {
                <div class="section-title" data-aos="fade-up">
                    @if ((!MvcHtmlString.IsNullOrEmpty(Model.Title)) || isExperienceEditor)
                    {
                        @Model.Title
                    }
                    @if ((!MvcHtmlString.IsNullOrEmpty(Model.Description)) || isExperienceEditor)
                    {
                        @Model.Description
                    }
                </div>
            }
            <div class="row justify-content-center" data-aos="fade-up" style="margin-top:-45px;">
                <div class="col-lg-10">
                    @using (Ajax.BeginForm("SignInUser", "Accounts",
                    new AjaxOptions
                    {
                        HttpMethod = "Post",
                        OnBegin = "OnBegin_SI",
                        OnSuccess = "OnSuccess_SI",
                        OnFailure = "OnFailure_SI"
                    }, new { @class = "php-email-form", id = "formSignIn" }))
                    {
                        @Html.AntiForgeryToken()

                        <div class="form-group mt-3">
                            @Html.TextBoxFor(x => x.Email, new { @class = "form-control", type = "email", maxlength = "50", autocomplete = "off", id = "Email", placeholder = CommonDictionaryValues.Labels.Email })
                            @Html.ValidationMessageFor(x => x.Email, null, "span")
                        </div>
                        <div class="form-group mt-3">
                            @Html.TextBoxFor(x => x.Password, new { @class = "form-control", type = "password", autocomplete = "off", id = "Password", placeholder = DictionaryValues.Labels.Password })
                            @Html.ValidationMessageFor(x => x.Password, null, "span")
                        </div>
                        <div style="text-align:right">
                            <a class="nav-link" href="@Model.ForgotPasswordPageUrl" target="_self" style="color:#1bac91">@Model.ForgotPasswordLabel</a>
                        </div>
                        <div class="form-group mt-3">
                            @Html.CheckBoxFor(x => x.RememberMe, new { type = "checkbox", id = "RememberMe", style = "height:13px;" })
                            <label class="form-check-label" for="RememberMe">
                                @CommonDictionaryValues.Labels.RememberMe
                            </label>
                        </div>
                        <div class="text-center"><button id="btnSISubmit" type="submit">@CommonDictionaryValues.Labels.Submit</button></div>
                        <div class="form-group mt-3">
                            <div id="divSignInSubmitStatus">

                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </section>
}
else
{
    <span></span>
}
